--- !ruby/object:Recipe
trackfilters:
- !ruby/object:TrackFilter
  pattern: !ruby/regexp /(.+)/
  extraction_pattern:
  - !ruby/regexp /\[(?<timestamp>.*)\] \| (?<ip>[0-9.]{7,15}) \| GET \/(?<username>.*) HTTP.*/
  score: -1
  course_of_action: macro executed
  recipe_id: ms_word_macro
- !ruby/object:TrackFilter
  pattern: !ruby/regexp /(.+)/
  extraction_pattern:
  - !ruby/regexp /(?<timestamp>.*) \| .*\"Status\"=>2, \"Message\"=>\".*not found\".*:user=>\"(?<username>.*)\", :action.*/
  score: -1
  course_of_action: file deleted (please check traces to see if it was executed beforehand)
  recipe_id: ms_word_macro
artifact_script: "$ITSAPT_RECIPE_PATH/artifact_script.sh"
infrastructure:
- !ruby/object:InfrastructureElement
  monitor_script: "$ITSAPT_RECIPE_PATH/webserver/monitor.sh"
  generate_script: "$ITSAPT_RECIPE_PATH/webserver/generate.sh"
  destroy_script: "$ITSAPT_RECIPE_PATH/webserver/destroy.sh"
  arm_script: exit 0
  disarm_script: exit 0
  infrastructure_type: webserver
  parameters: {}
  season:
  names:
    - 'ms.word.macro.its.apt'
  ports:
    - 8080
parameters:
  template: 'which template to use [arrow, encoding, simple], default: arrow'
  filename: 'name of the file to be deployed (must end ".doc")'
default_parameters:
  template: arrow
  filename: TopSecret.doc
duration: 180
arm_script: "$ITSAPT_RECIPE_PATH/arm.sh"
disarm_script: "$ITSAPT_RECIPE_PATH/disarm.sh"
deploy_script: exit 0
undeploy_script: exit 0
